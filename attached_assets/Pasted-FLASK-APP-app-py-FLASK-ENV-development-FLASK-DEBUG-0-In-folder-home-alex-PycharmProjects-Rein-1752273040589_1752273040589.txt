FLASK_APP = app.py
FLASK_ENV = development
FLASK_DEBUG = 0
In folder /home/alex/PycharmProjects/ReinforcementTrader
/home/alex/miniconda3/envs/ReinforcementTrader/bin/python -m flask run 
DEBUG:asyncio:Using selector: EpollSelector
INFO:data_manager:Data Manager initialized with data directory: data
INFO:ib_integration:IB Integration initialized
INFO:risk_manager:Risk Manager initialized
INFO:trading_engine:Trading Engine initialized with device: cuda
INFO:trading_engine:Default configurations initialized
INFO:websocket_handler:WebSocket handler initialized
INFO:werkzeug:WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:5000
INFO:werkzeug:Press CTRL+C to quit
 * Serving Flask app 'app.py'
 * Debug mode: off
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:35] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:35] "GET /static/css/style.css HTTP/1.1" 304 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:35] "GET /static/js/main.js HTTP/1.1" 304 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:36] "GET /sw.js HTTP/1.1" 404 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:36] "GET /socket.io/?EIO=4&transport=polling&t=PVxcxaA HTTP/1.1" 200 -
INFO:websocket_handler:Client CwvBCxzpxafsTEzXAAAC connected from 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:36] "GET /socket.io/?EIO=4&transport=polling&t=PVxcxaF&sid=bLI3Xbb_u3OsiQNeAAAB HTTP/1.1" 200 -
INFO:websocket_handler:Client 3-5Hk5_n-UaM3_3BAAAD connected from 127.0.0.1
INFO:websocket_handler:Background broadcast thread started
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:36] "POST /socket.io/?EIO=4&transport=polling&t=PVxcxaE&sid=bLI3Xbb_u3OsiQNeAAAB HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:36] "GET /favicon.ico HTTP/1.1" 404 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:36] "GET /socket.io/?EIO=4&transport=polling&t=PVxcxaM&sid=bLI3Xbb_u3OsiQNeAAAB HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:36] "GET /socket.io/?EIO=4&transport=polling&t=PVxcxaP&sid=bLI3Xbb_u3OsiQNeAAAB HTTP/1.1" 200 -
WARNING:trading_engine:Session 8 not found in active sessions
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:42] "POST /stop_training HTTP/1.1" 200 -
INFO:websocket_handler:Client CwvBCxzpxafsTEzXAAAC disconnected
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:44] "GET /socket.io/?EIO=4&transport=websocket&sid=bLI3Xbb_u3OsiQNeAAAB HTTP/1.1" 200 -
INFO:websocket_handler:Client 3-5Hk5_n-UaM3_3BAAAD disconnected
INFO:websocket_handler:Background broadcast thread stopped
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:44] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:44] "GET /socket.io/?EIO=4&transport=websocket HTTP/1.1" 500 -
ERROR:werkzeug:Error on request:
Traceback (most recent call last):
  File "/home/alex/miniconda3/envs/ReinforcementTrader/lib/python3.12/site-packages/werkzeug/serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "/home/alex/miniconda3/envs/ReinforcementTrader/lib/python3.12/site-packages/werkzeug/serving.py", line 336, in execute
    write(b"")
  File "/home/alex/miniconda3/envs/ReinforcementTrader/lib/python3.12/site-packages/werkzeug/serving.py", line 261, in write
    assert status_set is not None, "write() before start_response"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: write() before start_response
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:44] "GET /static/css/style.css HTTP/1.1" 304 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:44] "GET /static/js/main.js HTTP/1.1" 304 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:44] "GET /sw.js HTTP/1.1" 404 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:44] "GET /socket.io/?EIO=4&transport=polling&t=PVxczhC HTTP/1.1" 200 -
INFO:websocket_handler:Client Zp2PDSerQnRMsdF-AAAG connected from 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:44] "POST /socket.io/?EIO=4&transport=polling&t=PVxczhJ&sid=5z37dn-znoVrvgFNAAAF HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:44] "GET /socket.io/?EIO=4&transport=polling&t=PVxczhJ.0&sid=5z37dn-znoVrvgFNAAAF HTTP/1.1" 200 -
INFO:websocket_handler:Client rrP2jZPc6IZ1PpGLAAAH connected from 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:44] "GET /socket.io/?EIO=4&transport=polling&t=PVxczhM&sid=5z37dn-znoVrvgFNAAAF HTTP/1.1" 200 -
INFO:trading_engine:Training session 9 started
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:48] "POST /start_training HTTP/1.1" 200 -
INFO:data_manager:Loading data from data/NQ_data.csv
WARNING:data_manager:Insufficient data in NQ_data.csv: 24 rows
INFO:data_manager:Loading data from data/NQ.csv
INFO:websocket_handler:Client Zp2PDSerQnRMsdF-AAAG disconnected
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "GET /socket.io/?EIO=4&transport=websocket&sid=5z37dn-znoVrvgFNAAAF HTTP/1.1" 200 -
INFO:websocket_handler:Client rrP2jZPc6IZ1PpGLAAAH disconnected
INFO:websocket_handler:Background broadcast thread stopped
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "GET /socket.io/?EIO=4&transport=websocket HTTP/1.1" 500 -
ERROR:werkzeug:Error on request:
Traceback (most recent call last):
  File "/home/alex/miniconda3/envs/ReinforcementTrader/lib/python3.12/site-packages/werkzeug/serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "/home/alex/miniconda3/envs/ReinforcementTrader/lib/python3.12/site-packages/werkzeug/serving.py", line 336, in execute
    write(b"")
  File "/home/alex/miniconda3/envs/ReinforcementTrader/lib/python3.12/site-packages/werkzeug/serving.py", line 261, in write
    assert status_set is not None, "write() before start_response"
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: write() before start_response
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "GET /static/css/style.css HTTP/1.1" 304 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "GET /static/js/main.js HTTP/1.1" 304 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "GET /sw.js HTTP/1.1" 404 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "GET /socket.io/?EIO=4&transport=polling&t=PVxc_4T HTTP/1.1" 200 -
INFO:websocket_handler:Client TynDB6d9O2-X2U8CAAAK connected from 127.0.0.1
INFO:websocket_handler:Background broadcast thread started
INFO:websocket_handler:Client ATqJBsAymz8NuJbZAAAL connected from 127.0.0.1
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "POST /socket.io/?EIO=4&transport=polling&t=PVxc_4Z&sid=YNQtr9Bx8iiH5IIPAAAJ HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "GET /socket.io/?EIO=4&transport=polling&t=PVxc_4Z.0&sid=YNQtr9Bx8iiH5IIPAAAJ HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "GET /socket.io/?EIO=4&transport=polling&t=PVxc_4g&sid=YNQtr9Bx8iiH5IIPAAAJ HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [11/Jul/2025 15:29:50] "GET /socket.io/?EIO=4&transport=polling&t=PVxc_4m&sid=YNQtr9Bx8iiH5IIPAAAJ HTTP/1.1" 200 -
WARNING:websocket_handler:Database locked, retrying in 0.1s (attempt 1/3)
WARNING:websocket_handler:Database locked, retrying in 0.2s (attempt 2/3)
ERROR:websocket_handler:Error getting session real-time data after 3 attempts: (sqlite3.OperationalError) database is locked
[SQL: SELECT trading_session.id AS trading_session_id, trading_session.session_name AS trading_session_session_name, trading_session.algorithm_type AS trading_session_algorithm_type, trading_session.parameters AS trading_session_parameters, trading_session.start_time AS trading_session_start_time, trading_session.end_time AS trading_session_end_time, trading_session.status AS trading_session_status, trading_session.total_episodes AS trading_session_total_episodes, trading_session.current_episode AS trading_session_current_episode, trading_session.total_profit AS trading_session_total_profit, trading_session.total_trades AS trading_session_total_trades, trading_session.win_rate AS trading_session_win_rate, trading_session.sharpe_ratio AS trading_session_sharpe_ratio, trading_session.max_drawdown AS trading_session_max_drawdown 
FROM trading_session 
WHERE trading_session.id = ?]
[parameters: (9,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
WARNING:websocket_handler:Database locked, retrying in 0.1s (attempt 1/3)
WARNING:websocket_handler:Database locked, retrying in 0.2s (attempt 2/3)
ERROR:websocket_handler:Error getting session real-time data after 3 attempts: (sqlite3.OperationalError) database is locked
[SQL: SELECT trading_session.id AS trading_session_id, trading_session.session_name AS trading_session_session_name, trading_session.algorithm_type AS trading_session_algorithm_type, trading_session.parameters AS trading_session_parameters, trading_session.start_time AS trading_session_start_time, trading_session.end_time AS trading_session_end_time, trading_session.status AS trading_session_status, trading_session.total_episodes AS trading_session_total_episodes, trading_session.current_episode AS trading_session_current_episode, trading_session.total_profit AS trading_session_total_profit, trading_session.total_trades AS trading_session_total_trades, trading_session.win_rate AS trading_session_win_rate, trading_session.sharpe_ratio AS trading_session_sharpe_ratio, trading_session.max_drawdown AS trading_session_max_drawdown 
FROM trading_session 
WHERE trading_session.id = ?]
[parameters: (9,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
