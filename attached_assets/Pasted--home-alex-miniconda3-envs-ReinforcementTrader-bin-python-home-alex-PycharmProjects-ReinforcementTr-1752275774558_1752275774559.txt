/home/alex/miniconda3/envs/ReinforcementTrader/bin/python /home/alex/PycharmProjects/ReinforcementTrader/START_HERE.py 

üöÄ Starting Revolutionary AI Trading System...
============================================================
‚úì Gunicorn is installed
‚úì Using SQLite database at: /home/alex/PycharmProjects/ReinforcementTrader/instance/trading_system.db

üåê Starting server on http://127.0.0.1:5000
============================================================

‚ö° The application is starting...
üìä Open your browser to http://127.0.0.1:5000

Press Ctrl+C to stop the server

[2025-07-11 16:12:17 -0700] [47166] [INFO] Starting gunicorn 23.0.0
[2025-07-11 16:12:17 -0700] [47166] [INFO] Listening at: http://127.0.0.1:5000 (47166)
[2025-07-11 16:12:17 -0700] [47166] [INFO] Using worker: sync
[2025-07-11 16:12:17 -0700] [47201] [INFO] Booting worker with pid: 47201
INFO:gpu_data_loader:GPU processing enabled with 4 GPUs
DEBUG:asyncio:Using selector: EpollSelector
INFO:data_manager:Data Manager initialized with data directory: data
INFO:ib_integration:IB Integration initialized
INFO:risk_manager:Risk Manager initialized
INFO:trading_engine:CUDA available: 4 GPU(s) detected
INFO:trading_engine:Using GPU: NVIDIA GeForce RTX 3090
INFO:trading_engine:Trading Engine initialized with device: cuda
INFO:trading_engine:Default configurations initialized
INFO:websocket_handler:WebSocket handler initialized
INFO:websocket_handler:Client 4Rk3RBiRmGd3AOcFAAAC connected from 127.0.0.1
INFO:websocket_handler:Background broadcast thread started
INFO:websocket_handler:Client 4Rk3RBiRmGd3AOcFAAAC disconnected
INFO:websocket_handler:Background broadcast thread stopped
INFO:websocket_handler:Client XmGdeq7U3yw0B-AjAAAD connected from 127.0.0.1
INFO:websocket_handler:Client XmGdeq7U3yw0B-AjAAAD disconnected
INFO:websocket_handler:Background broadcast thread stopped
INFO:websocket_handler:Client XiFOqaV6RPLJP2KTAAAF connected from 127.0.0.1
INFO:websocket_handler:Background broadcast thread started
INFO:websocket_handler:Client XiFOqaV6RPLJP2KTAAAF disconnected
INFO:websocket_handler:Background broadcast thread stopped
INFO:routes:Testing training system
INFO:trading_engine:Starting training loop for session 13
INFO:trading_engine:Training session 13 started
INFO:trading_engine:Loading NQ market data for session 13
INFO:data_manager:Found data file: data/NQ_data.csv
INFO:gpu_data_loader:Loading cached data from ./data_cache/nq_data_311059740f77cc509ffcc44e2c7d8c25.parquet
INFO:routes:Testing training system
INFO:trading_engine:Starting training loop for session 14
INFO:trading_engine:Loading NQ market data for session 14
INFO:trading_engine:Training session 14 started
INFO:data_manager:Found data file: data/NQ_data.csv
INFO:gpu_data_loader:Loading cached data from ./data_cache/nq_data_311059740f77cc509ffcc44e2c7d8c25.parquet
WARNING:trading_engine:Session 12 not found in active sessions
INFO:routes:Testing training system
INFO:trading_engine:Starting training loop for session 15
INFO:trading_engine:Training session 15 started
INFO:trading_engine:Loading NQ market data for session 15
INFO:data_manager:Found data file: data/NQ_data.csv
INFO:gpu_data_loader:Loading cached data from ./data_cache/nq_data_311059740f77cc509ffcc44e2c7d8c25.parquet
INFO:websocket_handler:Client nXKf1cNpqS-_nlJIAAAK connected from 127.0.0.1
INFO:numba.cuda.cudadrv.driver:init
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuInit
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetCount
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGet
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetName
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetUuid_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGet
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetName
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetUuid_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGet
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetName
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetUuid_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGet
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetName
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDeviceGetUuid_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuDevicePrimaryCtxRetain
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
WARNING:data_manager:Insufficient data in NQ_data.csv: 24 rows
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
INFO:data_manager:Found data file: data/NQ.csv
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
WARNING:data_manager:Insufficient data in NQ_data.csv: 24 rows
INFO:data_manager:Found data file: data/NQ.csv
WARNING:data_manager:Insufficient data in NQ_data.csv: 24 rows
INFO:data_manager:Found data file: data/NQ.csv
INFO:gpu_data_loader:Loading cached data from ./data_cache/nq_data_141354cfe489b267668d742f599217ba.parquet
INFO:gpu_data_loader:Loading cached data from ./data_cache/nq_data_141354cfe489b267668d742f599217ba.parquet
INFO:gpu_data_loader:Loading cached data from ./data_cache/nq_data_141354cfe489b267668d742f599217ba.parquet
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuPointerGetAttribute
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetCurrent
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuCtxGetDevice
DEBUG:numba.cuda.cudadrv.driver:call driver api: cuMemcpyDtoH_v2
INFO:data_manager:Successfully loaded 5,389,750 rows from NQ.csv
INFO:data_manager:Successfully loaded 5,389,750 rows from NQ.csv
INFO:data_manager:Successfully loaded 5,389,750 rows from NQ.csv
ERROR:data_manager:Error saving data to database: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(sqlite3.OperationalError) database is locked
[SQL: INSERT INTO market_data (timestamp, symbol, open_price, high_price, low_price, close_price, volume, timeframe) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('2008-01-02 06:00:00.000000', 'NQ', 3352.5, 3353.75, 3351.75, 3353.25, 184, '1min')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
INFO:data_manager:Loaded 5389750 NQ data points from file and saved to database
INFO:trading_engine:Loaded 5389750 rows of market data for session 14
ERROR:trading_engine:Error creating time series states: 'timestamp'
ERROR:data_manager:Error saving data to database: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(sqlite3.OperationalError) database is locked
[SQL: INSERT INTO market_data (timestamp, symbol, open_price, high_price, low_price, close_price, volume, timeframe) VALUES (?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('2008-01-02 06:00:00.000000', 'NQ', 3352.5, 3353.75, 3351.75, 3353.25, 184, '1min')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
INFO:data_manager:Loaded 5389750 NQ data points from file and saved to database
INFO:trading_engine:Loaded 5389750 rows of market data for session 15
ERROR:trading_engine:Error creating time series states: 'timestamp'
INFO:rl_algorithms.genetic_optimizer:Genetic Optimizer initialized with population_size=50
INFO:rl_algorithms.ane_ppo:ANEPPO initialized with input_dim=1, device=cuda
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
INFO:rl_algorithms.genetic_optimizer:Genetic Optimizer initialized with population_size=50
INFO:rl_algorithms.ane_ppo:ANEPPO initialized with input_dim=1, device=cuda
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:trading_engine:Error training episode 0: unsupported operand type(s) for +=: 'int' and 'NoneType'
ERROR:trading_engine:Error training episode 0: unsupported operand type(s) for +=: 'int' and 'NoneType'
ERROR:trading_engine:Error updating session stats: (sqlite3.OperationalError) database is locked
[SQL: SELECT trading_session.id AS trading_session_id, trading_session.session_name AS trading_session_session_name, trading_session.algorithm_type AS trading_session_algorithm_type, trading_session.parameters AS trading_session_parameters, trading_session.start_time AS trading_session_start_time, trading_session.end_time AS trading_session_end_time, trading_session.status AS trading_session_status, trading_session.total_episodes AS trading_session_total_episodes, trading_session.current_episode AS trading_session_current_episode, trading_session.total_profit AS trading_session_total_profit, trading_session.total_trades AS trading_session_total_trades, trading_session.win_rate AS trading_session_win_rate, trading_session.sharpe_ratio AS trading_session_sharpe_ratio, trading_session.max_drawdown AS trading_session_max_drawdown 
FROM trading_session 
WHERE trading_session.id = ?]
[parameters: (14,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
ERROR:trading_engine:Error updating session stats: (sqlite3.OperationalError) database is locked
[SQL: SELECT trading_session.id AS trading_session_id, trading_session.session_name AS trading_session_session_name, trading_session.algorithm_type AS trading_session_algorithm_type, trading_session.parameters AS trading_session_parameters, trading_session.start_time AS trading_session_start_time, trading_session.end_time AS trading_session_end_time, trading_session.status AS trading_session_status, trading_session.total_episodes AS trading_session_total_episodes, trading_session.current_episode AS trading_session_current_episode, trading_session.total_profit AS trading_session_total_profit, trading_session.total_trades AS trading_session_total_trades, trading_session.win_rate AS trading_session_win_rate, trading_session.sharpe_ratio AS trading_session_sharpe_ratio, trading_session.max_drawdown AS trading_session_max_drawdown 
FROM trading_session 
WHERE trading_session.id = ?]
[parameters: (15,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
INFO:rl_algorithms.ane_ppo:Model saved to models/session_14/episode_0.pt
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
INFO:rl_algorithms.ane_ppo:Model saved to models/session_15/episode_0.pt
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:trading_engine:Error training episode 1: unsupported operand type(s) for +=: 'int' and 'NoneType'
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:trading_engine:Error training episode 1: unsupported operand type(s) for +=: 'int' and 'NoneType'
ERROR:trading_engine:Error updating session stats: (sqlite3.OperationalError) database is locked
[SQL: SELECT trading_session.id AS trading_session_id, trading_session.session_name AS trading_session_session_name, trading_session.algorithm_type AS trading_session_algorithm_type, trading_session.parameters AS trading_session_parameters, trading_session.start_time AS trading_session_start_time, trading_session.end_time AS trading_session_end_time, trading_session.status AS trading_session_status, trading_session.total_episodes AS trading_session_total_episodes, trading_session.current_episode AS trading_session_current_episode, trading_session.total_profit AS trading_session_total_profit, trading_session.total_trades AS trading_session_total_trades, trading_session.win_rate AS trading_session_win_rate, trading_session.sharpe_ratio AS trading_session_sharpe_ratio, trading_session.max_drawdown AS trading_session_max_drawdown 
FROM trading_session 
WHERE trading_session.id = ?]
[parameters: (14,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:trading_engine:Error updating session stats: (sqlite3.OperationalError) database is locked
[SQL: SELECT trading_session.id AS trading_session_id, trading_session.session_name AS trading_session_session_name, trading_session.algorithm_type AS trading_session_algorithm_type, trading_session.parameters AS trading_session_parameters, trading_session.start_time AS trading_session_start_time, trading_session.end_time AS trading_session_end_time, trading_session.status AS trading_session_status, trading_session.total_episodes AS trading_session_total_episodes, trading_session.current_episode AS trading_session_current_episode, trading_session.total_profit AS trading_session_total_profit, trading_session.total_trades AS trading_session_total_trades, trading_session.win_rate AS trading_session_win_rate, trading_session.sharpe_ratio AS trading_session_sharpe_ratio, trading_session.max_drawdown AS trading_session_max_drawdown 
FROM trading_session 
WHERE trading_session.id = ?]
[parameters: (15,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:trading_engine:Error training episode 2: unsupported operand type(s) for +=: 'int' and 'NoneType'
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:trading_engine:Error training episode 2: unsupported operand type(s) for +=: 'int' and 'NoneType'
ERROR:trading_engine:Error updating session stats: (sqlite3.OperationalError) database is locked
[SQL: SELECT trading_session.id AS trading_session_id, trading_session.session_name AS trading_session_session_name, trading_session.algorithm_type AS trading_session_algorithm_type, trading_session.parameters AS trading_session_parameters, trading_session.start_time AS trading_session_start_time, trading_session.end_time AS trading_session_end_time, trading_session.status AS trading_session_status, trading_session.total_episodes AS trading_session_total_episodes, trading_session.current_episode AS trading_session_current_episode, trading_session.total_profit AS trading_session_total_profit, trading_session.total_trades AS trading_session_total_trades, trading_session.win_rate AS trading_session_win_rate, trading_session.sharpe_ratio AS trading_session_sharpe_ratio, trading_session.max_drawdown AS trading_session_max_drawdown 
FROM trading_session 
WHERE trading_session.id = ?]
[parameters: (14,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:trading_engine:Error training episode 3: unsupported operand type(s) for +=: 'int' and 'NoneType'
ERROR:trading_engine:Error updating session stats: (sqlite3.OperationalError) database is locked
[SQL: SELECT trading_session.id AS trading_session_id, trading_session.session_name AS trading_session_session_name, trading_session.algorithm_type AS trading_session_algorithm_type, trading_session.parameters AS trading_session_parameters, trading_session.start_time AS trading_session_start_time, trading_session.end_time AS trading_session_end_time, trading_session.status AS trading_session_status, trading_session.total_episodes AS trading_session_total_episodes, trading_session.current_episode AS trading_session_current_episode, trading_session.total_profit AS trading_session_total_profit, trading_session.total_trades AS trading_session_total_trades, trading_session.win_rate AS trading_session_win_rate, trading_session.sharpe_ratio AS trading_session_sharpe_ratio, trading_session.max_drawdown AS trading_session_max_drawdown 
FROM trading_session 
WHERE trading_session.id = ?]
[parameters: (15,)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:rl_algorithms.ane_ppo:Error converting state to tensor: 'memoryview' object has no attribute 'reshape'
ERROR:trading_engine:Error training episode 3: unsupported operand type(s) for +=: 'int' and 'NoneType'